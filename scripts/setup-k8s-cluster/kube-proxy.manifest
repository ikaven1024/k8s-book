{
    "apiVersion":"v1",
    "kind":"Pod",
    "metadata":{
        "name":"kube-proxy",
        "namespace":"kube-system"
    },
    "spec":{
        "hostNetwork":true,
        "containers":[
            {
                "name":"kube-proxy",
                "image":"kube-proxy:1.2.0",
                "resources":{
                    "requests":{
                        "cpu":"200m"
                    }
                },
                "command":[
                    "/bin/sh",
                    "-c",
                    "kube-proxy --master=https://127.0.0.1:6443 --proxy-mode='iptables' 1>>/var/log/kube-proxy.log 2>&1"
                ],
                "securityContext": {
                    "privileged": true
                },
                "livenessProbe":{
                    "httpGet":{
                        "host":"127.0.0.1",
                        "port":10252,
                        "path":"/healthz"
                    },
                    "initialDelaySeconds":15,
                    "timeoutSeconds":15
                },
                "volumeMounts":[
                    {
                        "name":"logfile",
                        "mountPath":"/var/log/kube-proxy.log",
                        "readOnly":false
                    }
                ]
            }
        ],
        "volumes":[
            {
                "name":"logfile",
                "hostPath":{
                    "path":"/var/log/kube-proxy.log"
                }
            }
        ]
    }
}
